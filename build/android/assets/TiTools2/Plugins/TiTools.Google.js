function googleMapCurrentLocation(t){var e="ru",o="false",i="";void 0!=t&&(void 0!=t.lang&&(e=t.lang),void 0!=t.sensor&&(o=t.sensor),void 0!=t.position&&(void 0!=t.position.latitude&&(i+=String(t.position.latitude)),i+=",",void 0!=t.position.longitude&&(i+=String(t.position.longitude))));var n=TiTools2.Network.createClientHttp({options:{method:"GET",url:"http://maps.googleapis.com/maps/api/geocode/json",headers:{"Content-Type":"application/json; charset=utf-8","Cache-Control":"no-cache, must-revalidate"},args:{latlng:i,sensor:o,language:e}},loading:t.loading,loaded:t.loaded,success:function(e){switch(json=e.response("json"),json.status){case"OK":var o={},i=json.results;if(void 0!=i&&i.length>0){var n=json.results[0];o={address:n.formatted_address,componet:{}};for(var r=n.address_components,a=0;a<r.length;a++){var s=r[a];s.types.length>0&&(o.componet[s.types[0]]=s.long_name)}}void 0!=t.success&&t.success(json.status,o);break;default:void 0!=t.success&&t.success(json.status)}},failure:t.failure});return void 0!=n&&n.run(),n}function googleMapPaveRoute(t){var e="kml",o="ptk",i="w",n="en",r=0,a=0,s=0,l=0;if(void 0!=t){if(void 0!=t.output&&(e=t.output),void 0!=t.doflg&&(o=t.doflg),void 0!=t.dirflg&&(i=t.dirflg),void 0!=t.hl&&(n=t.hl),void 0!=t.a){var c=t.position;r=c.latitude,a=c.longitude}if(void 0!=t.b){var c=t.b;s=c.latitude,l=c.longitude}}var u=TiTools2.Network.createClientHttp({options:{method:"GET",url:"http://maps.google.com/",args:{saddr:String(r)+","+String(a),daddr:String(s)+","+String(l),output:e,doflg:o,dirflg:i,hl:n}},loading:t.loading,loaded:t.loaded,success:function(e){var o={name:t.name,points:[]},i=e.response("raw:xml");if(void 0!=i)for(var n=i.documentElement.getElementsByTagName("LineString"),r=0;r<n.length;r++)for(var a=n.item(r).firstChild.text.split(" "),s=0;s<a.length;s++){var l=a[s].split(",");void 0!=l[0]&&void 0!=l[1]&&o.points.push({longitude:l[0],latitude:l[1]})}void 0!=t.success&&t.success(o)},failure:t.failure});return void 0!=u&&u.run(),u}var TiTools2=require("TiTools2/TiTools");module.exports={Map:{currentLocation:googleMapCurrentLocation,paveRoute:googleMapPaveRoute}};