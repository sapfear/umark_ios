function formCacheLoad(e,t){var o=void 0;if("xmlui"==t){var i=xmlDeserialize(e);void 0!=i&&(Ti.API.info(i),o=convertNodeXMLUI(i))}else if(1==stringIsSuffix(e,".xmlui")){var l=fileSystemGetFile(e);if(1==l.exists()){var a=l.read();if(void 0!=a){var i=xmlDeserialize(a.text);void 0!=i&&(o=convertNodeXMLUI(i))}}}return t2.Utils.info(o),o}function xmluiGetHook(e){switch(e){case"xmlui":return xmluiHookPreprocess;case"vbox":return xmluiHookVBox;case"hbox":return xmluiHookHBox;case"tbox":return xmluiHookTBox;case"label":return xmluiHookLabel;case"date":return xmluiHookDate;case"textField":return xmluiHookTextField;case"checkBox":return xmluiHookCheckBox;case"listBox":return xmluiHookListBox;case"dropDownList":return xmluiHookDropDownList}}function xmluiIstallHook(e,t){switch(e){case"xmlui":xmluiHookPreprocess=t;break;case"vbox":xmluiHookVBox=t;break;case"hbox":xmluiHookHBox=t;break;case"tbox":xmluiHookTBox=t;break;case"label":xmluiHookLabel=t;break;case"date":xmluiHookDate=t;break;case"textField":xmluiHookTextField=t;break;case"checkBox":xmluiHookCheckBox=t;break;case"listBox":xmluiHookListBox=t;break;case"dropDownList":xmluiHookDropDownList=t}}function convertNodeXMLUI(e){var t=void 0,o=e.attributes;switch(e.name){case"xmlui":var i=xmluiHookPreprocess(e);void 0!=i&&(t=convertNodeXMLUI(i));break;case"vbox":t=xmluiHookVBox(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0)},width:xmluiGetValue(o.width,Ti.UI.FILL),height:xmluiGetValue(o.height,Ti.UI.SIZE),layout:"vertical"});break;case"hbox":t=xmluiHookHBox(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0)},width:xmluiGetValue(o.width,Ti.UI.FILL),height:xmluiGetValue(o.height,Ti.UI.SIZE),horizontalWrap:!1,layout:"horizontal"});break;case"tbox":t=xmluiHookTBox(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),columns:o.columns},width:xmluiGetValue(o.width,Ti.UI.FILL),height:xmluiGetValue(o.height,Ti.UI.SIZE),layout:"vertical"});break;case"label":t=xmluiHookLabel(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),interactive:xmluiGetBool(o.interactive,!1),required:xmluiGetBool(o.required,!1)},width:xmluiGetValue(o.width,null),height:xmluiGetValue(o.height,null),touchEnabled:o.enabled,text:xmluiGetValue(o.value,""),font:{color:xmluiGetColor(o.color,"black")}});break;case"date":t=xmluiHookDate(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),interactive:xmluiGetBool(o.interactive,!1),required:xmluiGetBool(o.required,!1)},width:xmluiGetValue(o.width,void 0),height:xmluiGetValue(o.height,void 0),touchEnabled:o.enabled,hintText:xmluiGetValue(o.tip,void 0),value:xmluiGetValue(o.value,new Date),font:{color:xmluiGetColor(o.color,"black")}});break;case"textField":t=xmluiHookTextField(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),interactive:xmluiGetBool(o.interactive,!1),required:xmluiGetBool(o.required,!1)},width:xmluiGetValue(o.width,void 0),height:xmluiGetValue(o.height,void 0),touchEnabled:o.enabled,maxLength:xmluiGetValue(o.maxLength,300),hintText:xmluiGetValue(o.tip,void 0),regexp:xmluiGetValue(o.regex,void 0),value:xmluiGetValue(o.value,void 0),font:{color:xmluiGetColor(o.color,"black")}});break;case"checkBox":t=xmluiHookCheckBox(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),interactive:xmluiGetBool(o.interactive,!1),required:xmluiGetBool(o.required,!1)},width:xmluiGetValue(o.width,void 0),height:xmluiGetValue(o.height,void 0),touchEnabled:o.enabled,title:xmluiGetValue(o.tip,void 0),value:xmluiGetBool(o.value,!1),font:{color:xmluiGetColor(o.color,"black")}});break;case"listBox":t=xmluiHookListBox(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),interactive:xmluiGetBool(o.interactive,!1),required:xmluiGetBool(o.required,!1),items:xmluiListChild(e),value:xmluiGetValue(o.value,void 0)},width:xmluiGetValue(o.width,void 0),height:xmluiGetValue(o.height,void 0),touchEnabled:o.enabled,hintText:xmluiGetValue(o.tip,void 0),font:{color:xmluiGetColor(o.color,"black")}});break;case"dropDownList":t=xmluiHookDropDownList(e,{xmlui:{type:e.name,name:xmluiGetValue(o.name,void 0),interactive:xmluiGetBool(o.interactive,!1),required:xmluiGetBool(o.required,!1),items:xmluiListChild(e),value:xmluiGetValue(o.value,void 0)},width:xmluiGetValue(o.width,void 0),height:xmluiGetValue(o.height,void 0),touchEnabled:o.enabled,hintText:xmluiGetValue(o.tip,void 0),font:{color:xmluiGetColor(o.color,"black")}})}return t}function xmluiGetValue(e,t){return void 0!=e?e:t}function xmluiGetColor(e,t){return void 0!=e?e:t}function xmluiGetBool(e){return 0!=e}function xmluiContainerChild(e,t){for(var o=t.childs,i=o.length,l=0;l<i;l++){var a=convertNodeXMLUI(o[l]);void 0!=a&&e.subviews.push(a)}}function xmluiContainerTableChild(e,t,o){for(var i=t.childs,l=i.length,a=0;a<l;a+=o)xmluiContainerTableRow(e,i,a,a+o)}function xmluiContainerTableRow(e,t,o,i){function l(e){return 0!=coreIsNumber(e)&&1!=coreIsNaN(e)}for(var a=void 0,r={class:"View",preset:"xmlui::tbox::row",style:{width:Ti.UI.FILL,height:Ti.UI.SIZE,horizontalWrap:!1,layout:"horizontal"},bind:{"titools::create":function(e){a=e.source},postlayout:function(e){if(a==e.source){var t=a.children;if(void 0!=t){var o=0,i=0;for(var r in t){var n=t[r];1==l(n.width)?o+=n.width:i++}if(i>0){var u=a.toImage();if(void 0!=u){var s=Number(u.width-o)/i;if(1==l(s))for(var r in t){var n=t[r];0==l(n.width)&&n.applyProperties({width:s})}}}}}}},subviews:[]},n=o;n<i;n++){var u=convertNodeXMLUI(t[n]);void 0!=u&&r.subviews.push(u)}e.subviews.push(r)}function xmluiListChild(e){for(var t=[],o=xmlFindNode(e,"item"),i=o.length,l=0;l<i;l++){var a=o[l];t.push({text:a.attributes.text,value:a.attributes.value})}return t}function xmluiDefaultHookPreprocess(e){if(1==e.childs.length)return e.childs[0]}function xmluiDefaultHookVBox(e,t){var o={class:"View",name:t.xmlui.name,preset:"xmlui::vbox",style:t,subviews:[]};return xmluiContainerChild(o,e),o}function xmluiDefaultHookHBox(e,t){var o={class:"View",name:t.xmlui.name,preset:"xmlui::hbox",style:t,subviews:[]};return xmluiContainerChild(o,e),o}function xmluiDefaultHookTBox(e,t){var o={class:"View",name:t.xmlui.name,preset:"xmlui::tbox",style:t,subviews:[]};return xmluiContainerTableChild(o,e,Number(t.xmlui.columns)),o}function xmluiDefaultHookLabel(e,t){return{class:"Label",name:t.xmlui.name,preset:"xmlui::label",style:t}}function xmluiDefaultHookDate(e,t){return{class:"TextField",name:t.xmlui.name,preset:"xmlui::date",style:t}}function xmluiDefaultHookTextField(e,t){var o=void 0;return{class:"TextField",name:t.xmlui.name,preset:"xmlui::textfield",style:t,bind:{"titools::create":function(e){o=e.source}}}}function xmluiDefaultHookCheckBox(e,t){return{class:"Switch",name:t.xmlui.name,preset:"xmlui::checkbox",style:t}}function xmluiDefaultHookListBox(e,t){var o={class:"TextField",name:t.xmlui.name,preset:"xmlui::listbox",style:t};return o}function xmluiDefaultHookDropDownList(e,t){var o={class:"TextField",name:t.xmlui.name,preset:"xmlui::dropdownlist",style:t};return o}var TiTools2=require("TiTools2/TiTools"),xmluiHookPreprocess=xmluiDefaultHookPreprocess,xmluiHookVBox=xmluiDefaultHookVBox,xmluiHookHBox=xmluiDefaultHookHBox,xmluiHookTBox=xmluiDefaultHookTBox,xmluiHookLabel=xmluiDefaultHookLabel,xmluiHookDate=xmluiDefaultHookDate,xmluiHookTextField=xmluiDefaultHookTextField,xmluiHookCheckBox=xmluiDefaultHookCheckBox,xmluiHookListBox=xmluiDefaultHookListBox,xmluiHookDropDownList=xmluiDefaultHookDropDownList,coreIsBoolean=TiTools2.isBoolean,coreIsNumber=TiTools2.isNumber,coreIsString=TiTools2.isString,coreIsDate=TiTools2.isDate,coreIsArray=TiTools2.isArray,coreIsRegExp=TiTools2.isRegExp,coreIsFunction=TiTools2.isFunction,coreIsEqual=TiTools2.isEqual,coreIsEmpty=TiTools2.isEmpty,coreIsNaN=TiTools2.isNaN,fileSystemGetFile=TiTools2.FileSystem.getFile,xmlSerialize=TiTools2.XML.serialize,xmlDeserialize=TiTools2.XML.deserialize,xmlGetNode=TiTools2.XML.getNode,xmlFindNode=TiTools2.XML.findNode,xmlMergeNodeAttributes=TiTools2.XML.mergeNodeAttributes,utilsInfo=TiTools2.Utils.info,utilsCombine=TiTools2.Utils.combine;module.exports={Private:{containerChild:xmluiContainerChild,containerTableChild:xmluiContainerTableChild,containerTableRow:xmluiContainerTableRow,listChild:xmluiListChild,xmlui:xmluiDefaultHookPreprocess,vbox:xmluiDefaultHookVBox,hbox:xmluiDefaultHookHBox,tbox:xmluiDefaultHookTBox,label:xmluiDefaultHookLabel,date:xmluiDefaultHookDate,textField:xmluiDefaultHookTextField,checkBox:xmluiDefaultHookCheckBox,listBox:xmluiDefaultHookListBox,dropDownList:xmluiDefaultHookDropDownList},formCacheLoad:formCacheLoad,getHook:xmluiGetHook,installHook:xmluiIstallHook};