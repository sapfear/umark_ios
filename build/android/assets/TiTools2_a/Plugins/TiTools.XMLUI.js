function TiToolsFormLoad(e,t,r){var i=void 0;if(1==t2.String.isSuffix(t,".xmlui")){var n=t2.FileSystem.getFile(t);if(1==n.exists()){var o=n.read();if(void 0!=o){var a=t2.XML.deserialize(o.text);if(void 0!=a){var s=convertXMLUI(a);i=t2.Form.create(s,e,void 0,r)}}}}return i}function TiToolsFormParse(e,t,r,i){var n=void 0;if("xmlui"==r){var o=t2.XML.deserialize(t);if(void 0!=o){var a=convertXMLUI(o);n=t2.Form.create(a,e,void 0,i)}}return n}function xmluiGetHook(e){switch(e){case"xmlui":return xmluiHookPreprocess;case"vbox":return xmluiHookVBox;case"hbox":return xmluiHookHBox;case"tbox":return xmluiHookTBox;case"label":return xmluiHookLabel;case"date":return xmluiHookDate;case"textField":return xmluiHookTextField;case"checkBox":return xmluiHookCheckBox;case"listBox":return xmluiHookListBox;case"dropDownList":return xmluiHookDropDownList}}function xmluiIstallHook(e,t){switch(e){case"xmlui":xmluiHookPreprocess=t;break;case"vbox":xmluiHookVBox=t;break;case"hbox":xmluiHookHBox=t;break;case"tbox":xmluiHookTBox=t;break;case"label":xmluiHookLabel=t;break;case"date":xmluiHookDate=t;break;case"textField":xmluiHookTextField=t;break;case"checkBox":xmluiHookCheckBox=t;break;case"listBox":xmluiHookListBox=t;break;case"dropDownList":xmluiHookDropDownList=t}}function convertXMLUI(e){var t=void 0,r=e.attributes;switch(e.name){case"xmlui":var i=xmluiHookPreprocess(e);void 0!=i&&(t=convertXMLUI(i));break;case"vbox":t=xmluiHookVBox(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0)},width:xmluiGetValue(r.width,Ti.UI.FILL),height:xmluiGetValue(r.height,Ti.UI.SIZE),layout:"vertical"});break;case"hbox":t=xmluiHookHBox(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0)},width:xmluiGetValue(r.width,Ti.UI.FILL),height:xmluiGetValue(r.height,Ti.UI.SIZE),horizontalWrap:!1,layout:"horizontal"});break;case"tbox":t=xmluiHookTBox(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),columns:r.columns},width:xmluiGetValue(r.width,Ti.UI.FILL),height:xmluiGetValue(r.height,Ti.UI.SIZE),layout:"vertical"});break;case"label":t=xmluiHookLabel(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),interactive:xmluiGetBool(r.interactive,!1),required:xmluiGetBool(r.required,!1)},width:xmluiGetValue(r.width,null),height:xmluiGetValue(r.height,null),touchEnabled:xmluiGetBool(r.enabled,!1),text:xmluiGetValue(r.value,""),font:{color:xmluiGetColor(r.color,"black")}});break;case"date":t=xmluiHookDate(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),interactive:xmluiGetBool(r.interactive,!1),required:xmluiGetBool(r.required,!1)},width:xmluiGetValue(r.width,void 0),height:xmluiGetValue(r.height,void 0),enabled:r.enabled,touchEnabled:xmluiGetBool(r.enabled,!0),hintText:xmluiGetValue(r.tip,void 0),value:xmluiGetValue(r.value,new Date),font:{color:xmluiGetColor(r.color,"black")}});break;case"textField":t=xmluiHookTextField(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),interactive:xmluiGetBool(r.interactive,!1),required:xmluiGetBool(r.required,!1)},width:xmluiGetValue(r.width,void 0),height:xmluiGetValue(r.height,void 0),enabled:r.enabled,touchEnabled:xmluiGetBool(r.enabled,!0),maxLength:xmluiGetValue(r.maxLength,300),hintText:xmluiGetValue(r.tip,void 0),regexp:xmluiGetValue(r.regex,void 0),value:xmluiGetValue(r.value,void 0),font:{color:xmluiGetColor(r.color,"black")}});break;case"checkBox":t=xmluiHookCheckBox(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),interactive:xmluiGetBool(r.interactive,!1),required:xmluiGetBool(r.required,!1)},width:xmluiGetValue(r.width,void 0),height:xmluiGetValue(r.height,void 0),touchEnabled:xmluiGetBool(r.enabled,!0),title:xmluiGetValue(r.tip,void 0),value:xmluiGetBool(r.value,!1),font:{color:xmluiGetColor(r.color,"black")}});break;case"listBox":t=xmluiHookListBox(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),interactive:xmluiGetBool(r.interactive,!1),required:xmluiGetBool(r.required,!1),items:xmluiListChild(e),value:xmluiGetValue(r.value,void 0)},width:xmluiGetValue(r.width,void 0),height:xmluiGetValue(r.height,void 0),enabled:r.enabled,touchEnabled:xmluiGetBool(r.enabled,!0),hintText:xmluiGetValue(r.tip,void 0),font:{color:xmluiGetColor(r.color,"black")}});break;case"dropDownList":t=xmluiHookDropDownList(e,{xmlui:{type:e.name,name:xmluiGetValue(r.name,void 0),interactive:xmluiGetBool(r.interactive,!1),required:xmluiGetBool(r.required,!1),items:xmluiListChild(e),value:xmluiGetValue(r.value,void 0)},width:xmluiGetValue(r.width,void 0),height:xmluiGetValue(r.height,void 0),enabled:r.enabled,touchEnabled:xmluiGetBool(r.enabled,!0),hintText:xmluiGetValue(r.tip,void 0),font:{color:xmluiGetColor(r.color,"black")}})}return t}function xmluiGetValue(e,t){return void 0!=e?e:t}function xmluiGetColor(e,t){return void 0!=e?e:t}function xmluiGetBool(e){return 0!=e}function xmluiContainerChild(e,t){for(var r=t.childs,i=r.length,n=0;n<i;n++){var o=convertXMLUI(r[n]);void 0!=o&&e.subviews.push(o)}}function xmluiContainerTableChild(e,t,r){for(var i=t.childs,n=i.length,o=0;o<n;o+=r)xmluiContainerTableRow(e,i,o,o+r)}function xmluiContainerTableRow(e,t,r,i){function n(e){return 0!=t2.isNumber(e)&&1!=t2.isNaN(e)}for(var o=void 0,a={class:"View",preset:"xmlui::tbox::row",style:{width:Ti.UI.FILL,height:Ti.UI.SIZE,horizontalWrap:!1,layout:"horizontal"},bind:{"titools::create":function(e){o=e.source},postlayout:function(e){if(o==e.source){var t=o.children;if(void 0!=t){var r=0,i=0;for(var a in t){var s=t[a];1==n(s.width)?r+=s.width:i++}if(i>0){var u=o.toImage();if(void 0!=u){var l=Number(u.width-r)/i;if(1==n(l))for(var a in t){var s=t[a];0==n(s.width)&&s.applyProperties({width:l})}}}}}}},subviews:[]},s=r;s<i;s++){var u=convertXMLUI(t[s]);void 0!=u&&a.subviews.push(u)}e.subviews.push(a)}function xmluiListChild(e){for(var t=[],r=t2.XML.findNode(e,"item"),i=r.length,n=0;n<i;n++){var o=r[n];t.push({text:o.attributes.text,value:o.attributes.value})}return t}function xmluiDefaultHookPreprocess(e){if(1==e.childs.length)return e.childs[0]}function xmluiDefaultHookVBox(e,t){var r={class:"View",name:t.xmlui.name,preset:"xmlui::vbox",style:t,subviews:[]};return xmluiContainerChild(r,e),r}function xmluiDefaultHookHBox(e,t){var r={class:"View",name:t.xmlui.name,preset:"xmlui::hbox",style:t,subviews:[]};return xmluiContainerChild(r,e),r}function xmluiDefaultHookTBox(e,t){var r={class:"View",name:t.xmlui.name,preset:"xmlui::tbox",style:t,subviews:[]};return xmluiContainerTableChild(r,e,Number(t.xmlui.columns)),r}function xmluiDefaultHookLabel(e,t){return{class:"Label",name:t.xmlui.name,preset:"xmlui::label",style:t}}function xmluiDefaultHookDate(e,t){return{class:"TextField",name:t.xmlui.name,preset:"xmlui::date",style:t}}function xmluiDefaultHookTextField(e,t){var r=void 0;return{class:"TextField",name:t.xmlui.name,preset:"xmlui::textfield",style:t,bind:{"titools::create":function(e){r=e.source}}}}function xmluiDefaultHookCheckBox(e,t){return{class:"Switch",name:t.xmlui.name,preset:"xmlui::checkbox",style:t}}function xmluiDefaultHookListBox(e,t){var r={class:"TextField",name:t.xmlui.name,preset:"xmlui::listbox",style:t};return r}function xmluiDefaultHookDropDownList(e,t){var r=[{class:"TextField",name:t.xmlui.name,preset:"xmlui::dropdownlist",style:t}];"2"!==Ti.Platform.version[0]&&r.push({class:"ImageView",style:{image:"%ResourcesPath%Media/%ScreenPath%Icon/SelectFieldArrow.png",width:"15dp",height:"15dp",right:0,bottom:"4dp"}});var i={class:"View",style:{height:Ti.UI.SIZE},subviews:r};return i}var t2=require("TiTools2/TiTools"),xmluiHookPreprocess=xmluiDefaultHookPreprocess,xmluiHookVBox=xmluiDefaultHookVBox,xmluiHookHBox=xmluiDefaultHookHBox,xmluiHookTBox=xmluiDefaultHookTBox,xmluiHookLabel=xmluiDefaultHookLabel,xmluiHookDate=xmluiDefaultHookDate,xmluiHookTextField=xmluiDefaultHookTextField,xmluiHookCheckBox=xmluiDefaultHookCheckBox,xmluiHookListBox=xmluiDefaultHookListBox,xmluiHookDropDownList=xmluiDefaultHookDropDownList;module.exports={Private:{containerChild:xmluiContainerChild,containerTableChild:xmluiContainerTableChild,containerTableRow:xmluiContainerTableRow,listChild:xmluiListChild,vbox:xmluiDefaultHookVBox,hbox:xmluiDefaultHookHBox,tbox:xmluiDefaultHookTBox,label:xmluiDefaultHookLabel,date:xmluiDefaultHookDate,textField:xmluiDefaultHookTextField,checkBox:xmluiDefaultHookCheckBox,listBox:xmluiDefaultHookListBox,dropDownList:xmluiDefaultHookDropDownList},TiToolsFormLoad:TiToolsFormLoad,TiToolsFormParse:TiToolsFormParse,getHook:xmluiGetHook,installHook:xmluiIstallHook};